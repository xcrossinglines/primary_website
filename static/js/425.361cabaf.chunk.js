"use strict";(self.webpackChunkxcrossinglines=self.webpackChunkxcrossinglines||[]).push([[425],{8425:(e,t,a)=>{a.r(t),a.d(t,{default:()=>g});var n=a(2791),r=a(7022),o=a(2144),s=a(7644),l=a(3360),c=a(6122),i=a(5794),d=a(2797),u=a(9625),m=a(9554),p=a(2879),f=a(5977),x=a(3978),b=a(9775),h=a(5594),y=a(184);function g(){const e=n.useRef(),t=n.useRef(),a=n.useRef(),g=n.useRef(),[w,j]=n.useState({email:"",f_name:"",m_number:"",s_name:""}),[_,v]=n.useState(!1),[Z,N]=n.useState(!1),[q,C]=n.useState(i.tx.none),[F,P]=n.useState(""),[k,R]=n.useState(""),O=(e,t,a)=>{C((t=>e)),P((e=>t)),R((e=>a));const n=e===i.tx.loading||e===i.tx.success;N((e=>n))},S=async e=>{const[t,a]=(0,u.f)();if(t){O(i.tx.loading,"Updating Profile ...","");const t="accounts/api/account/update/";await m.Z.put(t,e).then((async e=>{O(i.tx.success,"Awesome.","Update success"),await(0,f.r)((()=>{let e=window.document.createElement("a");e.href=i.dX.profile,e.target="_self",e.click()}),2e3)})).catch((e=>{(0,p.X)(e,O)}))}},U=n.useCallback((async()=>{const[e,t]=(0,u.f)();if(e){O(i.tx.loading,"Fetching Profile ...","");const e="accounts/api/account/get/";await m.Z.get(e).then((e=>{200===e.status&&(O(i.tx.none,"",""),L(e),j((t=>({email:e.data.email,f_name:e.data.f_name,m_number:e.data.m_number,s_name:e.data.s_name}))))})).catch((e=>{(0,p.X)(e,O)}))}else window.location.href=i.dX.home}),[]),L=n=>{if(n)return e.current.value=n.data.email,t.current.value=n.data.f_name,a.current.value=n.data.s_name,void(g.current.value=n.data.m_number)};return n.useEffect((e=>{window.scrollTo(0,0),U()}),[U]),n.useEffect((e=>{window.scrollTo(0,0)}),[q]),(0,y.jsxs)(x.E.section,{className:"pb-3",variants:b.v,animate:"visible",initial:"hidden",exit:"exit",transition:{duration:h.V$,delay:h.p},children:[(0,y.jsx)(r.Z,{className:"p-0 d-flex flex-column justify-content-center align-items-center",children:(0,y.jsxs)(o.Z,{className:"dropdown__shadow card__section border-0 rounded-0",children:[(0,y.jsx)(o.Z.Header,{as:"h3",className:"text-center pb-0 bg-transparent border-0 ",style:{fontWeight:"900"},children:"Your profile"}),(0,y.jsxs)(s.Z,{noValidate:!0,validated:_,onSubmit:async e=>{if(!1===e.currentTarget.checkValidity())return e.preventDefault(),e.stopPropagation(),void v(!0);e.preventDefault(),e.stopPropagation(),v(!0);const n={f_name:t.current.value,s_name:a.current.value,m_number:g.current.value};await S(n)},children:[(0,y.jsxs)(o.Z.Body,{children:[(0,d.w)(q,F,k),(0,y.jsxs)(s.Z.Group,{className:"mb-3 mt-".concat(q===i.tx.none?"0":"3"),children:[(0,y.jsx)(s.Z.FloatingLabel,{label:"Email",className:"fw-bold",style:{color:"grey"},children:(0,y.jsx)(s.Z.Control,{ref:e,className:"rounded-0 border-0 fw-bold",type:"email",disabled:!0,readOnly:!0,required:!1,placeholder:"".concat(w.email)})}),(0,y.jsx)("div",{className:"text-end",children:(0,y.jsx)(s.Z.Text,{children:"Contact admin."})})]}),(0,y.jsx)(s.Z.Group,{className:"mb-3",children:(0,y.jsxs)(s.Z.FloatingLabel,{className:"fw-bold",label:"Full name: ".concat(w.f_name),style:{color:"grey"},children:[(0,y.jsx)(s.Z.Control,{className:"fw-bold rounded-0",placeholder:"".concat(w.f_name),disabled:Z,ref:t,required:!0,type:"text"}),(0,y.jsx)(s.Z.Control.Feedback,{type:"invalid",children:"Please enter correct full name to continue"}),(0,y.jsx)(s.Z.Control.Feedback,{children:" Awesome"})]})}),(0,y.jsx)(s.Z.Group,{className:"mb-3",children:(0,y.jsxs)(s.Z.FloatingLabel,{className:"fw-bold",label:"Family name: ".concat(w.s_name),style:{color:"grey"},children:[(0,y.jsx)(s.Z.Control,{className:"fw-bold rounded-0",disabled:Z,placeholder:"".concat(w.s_name),ref:a,required:!0,type:"text"}),(0,y.jsx)(s.Z.Control.Feedback,{type:"invalid",children:"Please enter correct family name to continue"}),(0,y.jsx)(s.Z.Control.Feedback,{children:"Awesome"})]})}),(0,y.jsx)(s.Z.Group,{children:(0,y.jsxs)(s.Z.FloatingLabel,{className:"fw-bold",label:"Phone number: ".concat(w.m_number),style:{color:"grey"},children:[(0,y.jsx)(s.Z.Control,{className:"fw-bold rounded-0",placeholder:"".concat(w.m_number),disabled:Z,ref:g,required:!0,maxLength:10,minLength:10,type:"tel"}),(0,y.jsx)(s.Z.Control.Feedback,{type:"invalid",children:"Please enter correct phone number to continue"}),(0,y.jsx)(s.Z.Control.Feedback,{children:"Awesome"})]})})]}),(0,y.jsx)(o.Z.Footer,{className:"px-0 mx-3 pt-1 pb-3 border-0 bg-transparent d-flex flex-row justify-content-end align-items-center p-3",children:(0,y.jsx)(l.Z,{disabled:Z,variant:"outline-primary",className:"rounded-0 border-0 fw-bold",type:"submit",children:"Update"})})]})]})}),(0,y.jsx)(c.P,{height:"".concat(window.innerHeight/2,"px")})]})}},2879:(e,t,a)=>{a.d(t,{X:()=>o});const n={100:"Continue",101:"Switching protocols",102:"Processing",103:"Early hints",200:"Ok",201:"Created",202:"Accepted",203:"Non authoritative information",204:"No content",205:"Reset content",206:"Partial content",207:"Multi status",208:"Already reported",226:"Im used",300:"Multiple choices",301:"Moved permanently",302:"Found",303:"See other",304:"Not modified",305:"Use proxy",306:"Reserved",307:"Temporary redirect",308:"Permanent redirect",400:"Bad request",401:"Unauthorized",402:"Payment required",403:"Forbidden",404:"Not found",405:"Method_not_allowed",406:"Not acceptable",407:"Proxy authentication required",408:"Request timeout",409:"Conflict",410:"Gone",411:"Length required",412:"Precondition failed",413:"Request entity too large",414:"Request uri too long",415:"Unsupported media type",416:"Requested range not satisfiable",417:"Expectation failed",418:"Im a teapot",421:"Misdirected_request",422:"Unprocessable entity",423:"Locked",424:"Failed dependency",425:"Too early",426:"Upgrade required",428:"Precondition required",429:"Too many requests",431:"Request header fields too large",451:"Unavailable for legal reasons"};var r=a(5794);function o(e,t){if(e.response){let a;const o=e.response.status;if(o>=500)return a="Internal server error. Contact admin",void t(r.tx.error,"Oops!",a);e.response.data.detail?(a="".concat(n[o],", ").concat(e.response.data.detail),t(r.tx.error,"Oops!",a)):e.response.data.msg?(a="".concat(n[o],", ").concat(e.response.data.msg),t(r.tx.error,"Oops!",a)):e.response.data.email?(a="".concat(n[o],", ").concat(e.response.data.email),t(r.tx.error,"Oops!",a)):(a="".concat(n[o]),t(r.tx.error,"Oops!",a))}else e.request?t(r.tx.error,"Oops!",e.request):t(r.tx.error,"Oops!",e.message)}}}]);
//# sourceMappingURL=425.361cabaf.chunk.js.map