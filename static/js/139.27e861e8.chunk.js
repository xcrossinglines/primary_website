(self.webpackChunkxcrossinglines=self.webpackChunkxcrossinglines||[]).push([[139],{7574:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>k});var n=r(2791),s=r(7022),i=r(2144),a=r(7644),o=r(9410),c=r(3360),l=r(7689),d=r(6122),h=r(5794),u=r(2797),f=r(5763),p=r(6342),m=r(8820),g=r(9554),x=r(4921),y=r(2641),b=r(2879),w=r(5977),v=r(3978),_=r(9775),j=r(5594),S=r(6746),Z=r(184);function k(){const e=(0,l.s0)(),t=n.useRef(),r=n.useRef(),k=n.useRef(),H=n.useRef(),B=n.useRef(),C=n.useRef(),[A,N]=n.useState("dark"),[F,P]=n.useState({email:"",password:""}),[z,L]=n.useState(!1),[R,q]=n.useState(!1),[T,I]=n.useState(""),[O,U]=n.useState(!1),[W,E]=n.useState(!1),[D,G]=n.useState(!1),[M,J]=n.useState(h.tx.none),[K,V]=n.useState(""),[$,X]=n.useState(""),Q=(e,t,r)=>{J((t=>e)),V((e=>t)),X((e=>r));const n=e===h.tx.loading||e===h.tx.success;G((e=>n)),I((e=>n?"":"success"))},Y=n.useCallback((async e=>{Q(h.tx.loading,"Registering ...","");await g.Z.post("accounts/api/account/signup/",e).then((async t=>{201===t.status&&(Q(h.tx.success,"Awesome.","Success"),await(0,w.r)((()=>{P((t=>e)),U((e=>!0))}),2e3))})).catch((e=>(0,b.X)(e,Q)))}),[]);return n.useEffect((()=>{window.scrollTo(0,0)}),[M]),(0,Z.jsxs)(v.E.section,{className:"pb-3",variants:_.v,animate:"visible",initial:"hidden",exit:"exit",transition:{duration:j.V$,delay:j.p},children:[(0,Z.jsxs)(s.Z,{className:"p-0 d-flex flex-column justify-content-center align-items-center",children:[(0,Z.jsxs)(i.Z,{className:"dropdown__shadow card__section border-0 rounded-0",children:[(0,Z.jsx)(i.Z.Header,{as:"h3",className:"pb-0 border-0 rounded-0 text-center bg-transparent",style:{fontWeight:"900"},children:"Register"}),(0,Z.jsxs)(a.Z,{noValidate:!0,validated:W,onSubmit:async e=>{const n=e.currentTarget;if(!1===n.checkValidity())return(e=>{let t=!1,r=!1;const n=e.querySelectorAll(":invalid");for(let s of n)B.current.id===s.id?(I("danger"),t=!0):C.current.id===s.id&&(N("danger"),r=!0);t||I((e=>"success")),r||N((e=>"success"))})(n),e.preventDefault(),e.stopPropagation(),void E(!0);I((e=>"success")),e.preventDefault(),e.stopPropagation(),E(!0);const s={email:"".concat(t.current.value).toLowerCase(),f_name:r.current.value,s_name:k.current.value,m_number:H.current.value,password:B.current.value,customer:!0,driver:!1,is_staff:!1};await Y(s)},children:[(0,Z.jsxs)(i.Z.Body,{children:[(0,u.w)(M,K,$),(0,Z.jsx)(a.Z.Group,{className:"mb-3 mt-".concat(M===h.tx.none?"0":"3"),children:(0,Z.jsxs)(a.Z.FloatingLabel,{label:"Email",className:"fw-bold",style:{color:"grey"},children:[(0,Z.jsx)(a.Z.Control,{className:"rounded-0 fw-bold",placeholder:"xlines@example.co.za",disabled:D,required:!0,ref:t,type:"email"}),(0,Z.jsx)(a.Z.Control.Feedback,{type:"invalid",children:"Please enter correct email address to continue"}),(0,Z.jsx)(a.Z.Control.Feedback,{children:" Awesome "})]})}),(0,Z.jsxs)(a.Z.Group,{className:"mb-3",children:[(0,Z.jsxs)(o.Z,{children:[(0,Z.jsx)(a.Z.FloatingLabel,{label:"Password",className:"fw-bold",style:{color:"grey"},children:(0,Z.jsx)(a.Z.Control,{id:"PasswordFormControl",className:"fw-bold rounded-0 border-end-0",placeholder:"Enter password",disabled:D,ref:B,minLength:6,maxLength:18,required:!0,type:R?"text":"password",onChange:e=>{const t=e.currentTarget.checkValidity();W&&I((e=>t?"success":"danger"))}})}),(0,Z.jsx)(o.Z.Text,{className:"bg-transparent rounded-0 border-start-0 border-".concat(T),onClick:()=>q((e=>!e)),children:(0,Z.jsx)("div",{children:R?(0,Z.jsx)(m.Zju,{size:22,color:"var(--primary-color)"}):(0,Z.jsx)(m.I0d,{size:22,color:"var(--primary-color)"})})})]}),(0,Z.jsx)(a.Z.Text,{children:"Password entered must atleast be 6 characters long"})]}),(0,Z.jsx)(a.Z.Group,{className:"mb-3",children:(0,Z.jsxs)(a.Z.FloatingLabel,{label:"Full name",className:"fw-bold",style:{color:"grey"},children:[(0,Z.jsx)(a.Z.Control,{className:"fw-bold rounded-0",placeholder:"Freddy",disabled:D,ref:r,required:!0,type:"text"}),(0,Z.jsx)(a.Z.Control.Feedback,{type:"invalid",children:"Please enter correct full name to continue"}),(0,Z.jsx)(a.Z.Control.Feedback,{children:"Awesome"})]})}),(0,Z.jsx)(a.Z.Group,{className:"mb-3",children:(0,Z.jsxs)(a.Z.FloatingLabel,{label:"Family name",className:"fw-bold",style:{color:"grey"},children:[(0,Z.jsx)(a.Z.Control,{className:"fw-bold rounded-0",disabled:D,placeholder:"Smith",ref:k,required:!0,type:"text"}),(0,Z.jsx)(a.Z.Control.Feedback,{type:"invalid",children:"Please enter correct family name to continue"}),(0,Z.jsx)(a.Z.Control.Feedback,{children:"Awesome"})]})}),(0,Z.jsx)(a.Z.Group,{className:"mb-3",children:(0,Z.jsxs)(a.Z.FloatingLabel,{label:"Phone number",className:"fw-bold",style:{color:"grey"},children:[(0,Z.jsx)(a.Z.Control,{className:"fw-bold rounded-0",placeholder:"084 000 0000",disabled:D,ref:H,required:!0,maxLength:10,minLength:10,type:"tel"}),(0,Z.jsx)(a.Z.Control.Feedback,{type:"invalid",children:"Please enter correct phone number to continue"}),(0,Z.jsx)(a.Z.Control.Feedback,{children:"Awesome"})]})}),(0,Z.jsx)(a.Z.Group,{className:"mt-3",children:(0,Z.jsxs)(a.Z.Check,{required:!0,type:"checkbox",disabled:D,children:[(0,Z.jsx)(a.Z.Check.Input,{id:"TermsAndCondition",type:"checkbox",required:!0,ref:C,disabled:D,onChange:e=>{W&&e.target.checked?N((e=>"success")):W&&!e.target.checked&&N((e=>"danger"))}}),(0,Z.jsxs)(a.Z.Check.Label,{children:["Accept our"," ",(0,Z.jsx)("a",{href:x,target:"_blank",rel:"noreferrer",className:"text-".concat(A," fw-bold"),children:"terms"})," ","and"," ",(0,Z.jsx)("a",{href:x,target:"_blank",rel:"noreferrer",className:"text-".concat(A," fw-bold"),children:"conditions"})]}),(0,Z.jsx)(a.Z.Control.Feedback,{type:"invalid",children:"Please accept our terms and conditions to continue with registration"})]})})]}),(0,Z.jsxs)(i.Z.Footer,{className:"p-0 pb-3 mx-3 bg-white border-0",children:[(0,Z.jsx)("div",{className:"pb-3",children:(0,Z.jsx)(S.i,{})}),(0,Z.jsx)(c.Z,{className:"rounded-0 w-100 text-white fw-bold",disabled:D,variant:"primary",type:"submit",children:"Submit"}),(0,Z.jsxs)(c.Z,{disabled:D,variant:"outline-primary",className:"w-100 border-0 rounded-0 mt-2 fw-bold bg-transparent",onClick:()=>e(h.dX.signin),children:[(0,Z.jsx)("span",{className:"text-muted fw-normal",children:"Have an account ? "}),"Sign in"]})]})]})]}),(0,Z.jsx)(p.kH.Provider,{value:{show:z,setShow:L},children:(0,Z.jsx)(y.E,{})}),(0,Z.jsx)(p.IK.Provider,{value:{show:O,setShow:U,setShowJobNotification:L,payload:F},children:(0,Z.jsx)(f._,{})})]}),(0,Z.jsx)(d.P,{height:"".concat(window.innerHeight/2,"px")})]})}},4254:(e,t,r)=>{const n=r(5187),s={alg:"HS256",typ:"JWT"};function i(e){return n.enc.Base64.stringify(e).replace(/=+$/,"").replace(/\+/g,"-").replace(/\//g,"_")}function a(e){return i(n.enc.Utf8.parse(JSON.stringify(e)))}e.exports=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=Object.assign(s,r);if("HS256"!==o.alg&&"JWT"!==o.typ)throw new Error("jwt-encode only support the HS256 algorithm and the JWT type of hash");const c=a(o),l=a(e);let d="".concat(c,".").concat(l);return d=n.HmacSHA256(d,t),d=i(d),"".concat(c,".").concat(l,".").concat(d)}},5187:(e,t)=>{var r=r||function(e,t){var r={},n=r.lib={},s=function(){},i=n.Base={extend:function(e){s.prototype=this;var t=new s;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},a=n.WordArray=i.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=undefined!=t?t:4*e.length},toString:function(e){return(e||c).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes;if(e=e.sigBytes,this.clamp(),n%4)for(var s=0;s<e;s++)t[n+s>>>2]|=(r[s>>>2]>>>24-s%4*8&255)<<24-(n+s)%4*8;else if(65535<r.length)for(s=0;s<e;s+=4)t[n+s>>>2]=r[s>>>2];else t.push.apply(t,r);return this.sigBytes+=e,this},clamp:function(){var t=this.words,r=this.sigBytes;t[r>>>2]&=4294967295<<32-r%4*8,t.length=e.ceil(r/4)},clone:function(){var e=i.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var r=[],n=0;n<t;n+=4)r.push(4294967296*e.random()|0);return new a.init(r,t)}}),o=r.enc={},c=o.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var r=[],n=0;n<e;n++){var s=t[n>>>2]>>>24-n%4*8&255;r.push((s>>>4).toString(16)),r.push((15&s).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new a.init(r,t/2)}},l=o.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var r=[],n=0;n<e;n++)r.push(String.fromCharCode(t[n>>>2]>>>24-n%4*8&255));return r.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new a.init(r,t)}},d=o.Utf8={stringify:function(e){try{return decodeURIComponent(escape(l.stringify(e)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(e){return l.parse(unescape(encodeURIComponent(e)))}},h=n.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=d.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var r=this._data,n=r.words,s=r.sigBytes,i=this.blockSize,o=s/(4*i);if(t=(o=t?e.ceil(o):e.max((0|o)-this._minBufferSize,0))*i,s=e.min(4*t,s),t){for(var c=0;c<t;c+=i)this._doProcessBlock(n,c);c=n.splice(0,t),r.sigBytes-=s}return new a.init(c,s)},clone:function(){var e=i.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});n.Hasher=h.extend({cfg:i.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new u.HMAC.init(e,r).finalize(t)}}});var u=r.algo={};return r}(Math);!function(e){for(var t=r,n=(i=t.lib).WordArray,s=i.Hasher,i=t.algo,a=[],o=[],c=function(e){return 4294967296*(e-(0|e))|0},l=2,d=0;64>d;){var h;e:{h=l;for(var u=e.sqrt(h),f=2;f<=u;f++)if(!(h%f)){h=!1;break e}h=!0}h&&(8>d&&(a[d]=c(e.pow(l,.5))),o[d]=c(e.pow(l,1/3)),d++),l++}var p=[];i=i.SHA256=s.extend({_doReset:function(){this._hash=new n.init(a.slice(0))},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],s=r[1],i=r[2],a=r[3],c=r[4],l=r[5],d=r[6],h=r[7],u=0;64>u;u++){if(16>u)p[u]=0|e[t+u];else{var f=p[u-15],m=p[u-2];p[u]=((f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3)+p[u-7]+((m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10)+p[u-16]}f=h+((c<<26|c>>>6)^(c<<21|c>>>11)^(c<<7|c>>>25))+(c&l^~c&d)+o[u]+p[u],m=((n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22))+(n&s^n&i^s&i),h=d,d=l,l=c,c=a+f|0,a=i,i=s,s=n,n=f+m|0}r[0]=r[0]+n|0,r[1]=r[1]+s|0,r[2]=r[2]+i|0,r[3]=r[3]+a|0,r[4]=r[4]+c|0,r[5]=r[5]+l|0,r[6]=r[6]+d|0,r[7]=r[7]+h|0},_doFinalize:function(){var t=this._data,r=t.words,n=8*this._nDataBytes,s=8*t.sigBytes;return r[s>>>5]|=128<<24-s%32,r[14+(s+64>>>9<<4)]=e.floor(n/4294967296),r[15+(s+64>>>9<<4)]=n,t.sigBytes=4*r.length,this._process(),this._hash},clone:function(){var e=s.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=s._createHelper(i),t.HmacSHA256=s._createHmacHelper(i)}(Math),function(){var e=r,t=e.enc.Utf8;e.algo.HMAC=e.lib.Base.extend({init:function(e,r){e=this._hasher=new e.init,"string"==typeof r&&(r=t.parse(r));var n=e.blockSize,s=4*n;r.sigBytes>s&&(r=e.finalize(r)),r.clamp();for(var i=this._oKey=r.clone(),a=this._iKey=r.clone(),o=i.words,c=a.words,l=0;l<n;l++)o[l]^=1549556828,c[l]^=909522486;i.sigBytes=a.sigBytes=s,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher;return e=t.finalize(e),t.reset(),t.finalize(this._oKey.clone().concat(e))}})}(),function(){var e=r,t=e.lib.WordArray;e.enc.Base64={stringify:function(e){var t=e.words,r=e.sigBytes,n=this._map;e.clamp(),e=[];for(var s=0;s<r;s+=3)for(var i=(t[s>>>2]>>>24-s%4*8&255)<<16|(t[s+1>>>2]>>>24-(s+1)%4*8&255)<<8|t[s+2>>>2]>>>24-(s+2)%4*8&255,a=0;4>a&&s+.75*a<r;a++)e.push(n.charAt(i>>>6*(3-a)&63));if(t=n.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(e){var r=e.length,n=this._map;(s=n.charAt(64))&&(-1!=(s=e.indexOf(s))&&(r=s));for(var s=[],i=0,a=0;a<r;a++)if(a%4){var o=n.indexOf(e.charAt(a-1))<<a%4*2,c=n.indexOf(e.charAt(a))>>>6-a%4*2;s[i>>>2]|=(o|c)<<24-i%4*8,i++}return t.create(s,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(e){for(var t=r,n=(i=t.lib).WordArray,s=i.Hasher,i=t.algo,a=[],o=[],c=function(e){return 4294967296*(e-(0|e))|0},l=2,d=0;64>d;){var h;e:{h=l;for(var u=e.sqrt(h),f=2;f<=u;f++)if(!(h%f)){h=!1;break e}h=!0}h&&(8>d&&(a[d]=c(e.pow(l,.5))),o[d]=c(e.pow(l,1/3)),d++),l++}var p=[];i=i.SHA256=s.extend({_doReset:function(){this._hash=new n.init(a.slice(0))},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],s=r[1],i=r[2],a=r[3],c=r[4],l=r[5],d=r[6],h=r[7],u=0;64>u;u++){if(16>u)p[u]=0|e[t+u];else{var f=p[u-15],m=p[u-2];p[u]=((f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3)+p[u-7]+((m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10)+p[u-16]}f=h+((c<<26|c>>>6)^(c<<21|c>>>11)^(c<<7|c>>>25))+(c&l^~c&d)+o[u]+p[u],m=((n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22))+(n&s^n&i^s&i),h=d,d=l,l=c,c=a+f|0,a=i,i=s,s=n,n=f+m|0}r[0]=r[0]+n|0,r[1]=r[1]+s|0,r[2]=r[2]+i|0,r[3]=r[3]+a|0,r[4]=r[4]+c|0,r[5]=r[5]+l|0,r[6]=r[6]+d|0,r[7]=r[7]+h|0},_doFinalize:function(){var t=this._data,r=t.words,n=8*this._nDataBytes,s=8*t.sigBytes;return r[s>>>5]|=128<<24-s%32,r[14+(s+64>>>9<<4)]=e.floor(n/4294967296),r[15+(s+64>>>9<<4)]=n,t.sigBytes=4*r.length,this._process(),this._hash},clone:function(){var e=s.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=s._createHelper(i),t.HmacSHA256=s._createHmacHelper(i)}(Math),t.enc={Base64:r.enc.Base64,Utf8:r.enc.Utf8,Latin1:r.enc.Latin1},t.SHA256=r.SHA256,t.HmacSHA256=r.HmacSHA256}}]);
//# sourceMappingURL=139.27e861e8.chunk.js.map