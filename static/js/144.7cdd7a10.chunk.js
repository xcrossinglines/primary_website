"use strict";(self.webpackChunkxcrossinglines=self.webpackChunkxcrossinglines||[]).push([[144],{2417:(e,t,s)=>{s.r(t),s.d(t,{default:()=>y});var a=s(2791),r=s(7644),o=s(7022),n=s(2144),c=s(9410),d=s(3360),i=s(6122),l=s(7689),p=s(5794),u=s(2797),x=s(9554),h=s(2879),m=s(5977),w=s(3978),b=s(9775),f=s(5594),g=s(184);function y(){const{token:e}=(0,l.UO)(),t=a.useRef(),s=a.useRef(),[y,j]=a.useState(!0),[v,Z]=a.useState(!1),[N,P]=a.useState(!1),[q,R]=a.useState(p.tx.none),[C,k]=a.useState(""),[O,_]=a.useState(""),F=(e,t,s)=>{R((t=>e)),k((e=>t)),_((e=>s));const a=e===p.tx.loading||e===p.tx.success;Z((e=>a))},S=e=>{let{password_match:t}=e;return t?(0,g.jsx)(g.Fragment,{}):(0,g.jsx)(r.Z.Text,{className:"fw-bold text-danger",children:"Oops! passwords do not match"})},L=a.useCallback((async e=>{F(p.tx.loading,"Resetting Password ...","");await x.Z.post("accounts/api/account/password/reset/confirm/",e).then((async e=>{200===e.status&&(F(p.tx.success,"Awesome.","Password successfully reset"),await(0,m.r)((()=>window.location.href=p.dX.signin),2e3))})).catch((e=>{(0,h.X)(e,F)}))}),[]);return a.useEffect((()=>{window.scrollTo(0,0)}),[L]),(0,g.jsxs)(w.E.section,{className:"pb-3",variants:b.v,animate:"visible",initial:"hidden",exit:"exit",transition:{duration:f.V$,delay:f.p},children:[(0,g.jsx)(o.Z,{className:"p-0 d-flex flex-column justify-content-center align-items-center",children:(0,g.jsx)(n.Z,{className:"dropdown__shadow card__section border-0 rounded-0 ",children:(0,g.jsxs)(r.Z,{noValidate:!0,validated:N,onSubmit:async a=>{if(!1===a.currentTarget.checkValidity())return a.preventDefault(),a.stopPropagation(),void P(!0);a.preventDefault(),a.stopPropagation(),P(!0),await(async(e,t,s)=>new Promise((async(s,a)=>{"".concat(e)==="".concat(t)&&s("Passwords match"),a("Passwords do not match")})).then((async e=>{j((()=>!0)),await s()})).catch((e=>{F(p.tx.none,"",""),j((()=>!1))})))(t.current.value,s.current.value,(async()=>{await L({token:e,password:t.current.value})}))},children:[(0,g.jsx)(n.Z.Header,{as:"h3",className:"text-center pb-0 bg-transparent border-0",style:{fontWeight:"900"},children:"Reset Password"}),(0,g.jsxs)(n.Z.Body,{children:[(0,u.w)(q,C,O),(0,g.jsx)(r.Z.Group,{className:"mb-2 mt-".concat(q===p.tx.none?"0":"3"),children:(0,g.jsx)(c.Z,{children:(0,g.jsxs)(r.Z.FloatingLabel,{label:"New password",className:"fw-bold ",style:{color:"grey"},children:[(0,g.jsx)(r.Z.Control,{type:"password",required:!0,ref:t,minLength:6,maxLength:18,disabled:v,className:"rounded-0 fw-bold",placeholder:"New password"}),(0,g.jsx)(r.Z.Control.Feedback,{type:"invalid",children:"Please enter correct new password."}),(0,g.jsx)(S,{password_match:y})]})})}),(0,g.jsx)(r.Z.Group,{className:"mb-3",children:(0,g.jsx)(c.Z,{children:(0,g.jsxs)(r.Z.FloatingLabel,{label:"Re-enter new password",className:"fw-bold ",style:{color:"grey"},children:[(0,g.jsx)(r.Z.Control,{type:"password",required:!0,ref:s,minLength:6,maxLength:18,disabled:v,className:"rounded-0 fw-bold",placeholder:"Re-enter new password"}),(0,g.jsx)(r.Z.Control.Feedback,{type:"invalid",children:"Please enter correct re-enter password."}),(0,g.jsx)(S,{password_match:y})]})})})]}),(0,g.jsx)(n.Z.Footer,{className:"bg-white border-0 pt-0 pb-3",children:(0,g.jsx)(d.Z,{variant:"primary",disabled:v,className:"w-100 text-white border-0 rounded-0 border-0 fw-bold",type:"submit",children:"Reset password"})})]})})}),(0,g.jsx)(i.P,{height:"".concat(window.innerHeight/2,"px")})]})}},2879:(e,t,s)=>{s.d(t,{X:()=>o});const a={100:"Continue",101:"Switching protocols",102:"Processing",103:"Early hints",200:"Ok",201:"Created",202:"Accepted",203:"Non authoritative information",204:"No content",205:"Reset content",206:"Partial content",207:"Multi status",208:"Already reported",226:"Im used",300:"Multiple choices",301:"Moved permanently",302:"Found",303:"See other",304:"Not modified",305:"Use proxy",306:"Reserved",307:"Temporary redirect",308:"Permanent redirect",400:"Bad request",401:"Unauthorized",402:"Payment required",403:"Forbidden",404:"Not found",405:"Method_not_allowed",406:"Not acceptable",407:"Proxy authentication required",408:"Request timeout",409:"Conflict",410:"Gone",411:"Length required",412:"Precondition failed",413:"Request entity too large",414:"Request uri too long",415:"Unsupported media type",416:"Requested range not satisfiable",417:"Expectation failed",418:"Im a teapot",421:"Misdirected_request",422:"Unprocessable entity",423:"Locked",424:"Failed dependency",425:"Too early",426:"Upgrade required",428:"Precondition required",429:"Too many requests",431:"Request header fields too large",451:"Unavailable for legal reasons"};var r=s(5794);function o(e,t){if(e.response){let s;const o=e.response.status;if(o>=500)return s="Internal server error. Contact admin",void t(r.tx.error,"Oops!",s);e.response.data.detail?(s="".concat(a[o],", ").concat(e.response.data.detail),t(r.tx.error,"Oops!",s)):e.response.data.msg?(s="".concat(a[o],", ").concat(e.response.data.msg),t(r.tx.error,"Oops!",s)):e.response.data.email?(s="".concat(a[o],", ").concat(e.response.data.email),t(r.tx.error,"Oops!",s)):(s="".concat(a[o]),t(r.tx.error,"Oops!",s))}else e.request?t(r.tx.error,"Oops!",e.request):t(r.tx.error,"Oops!",e.message)}},9410:(e,t,s)=>{s.d(t,{Z:()=>x});var a=s(1694),r=s.n(a),o=s(2791),n=s(6543),c=s(162),d=s(6882),i=s(1991),l=s(184);const p=(0,n.Z)("input-group-text",{Component:"span"}),u=o.forwardRef(((e,t)=>{let{bsPrefix:s,size:a,hasValidation:n,className:d,as:p="div",...u}=e;s=(0,c.vE)(s,"input-group");const x=(0,o.useMemo)((()=>({})),[]);return(0,l.jsx)(i.Z.Provider,{value:x,children:(0,l.jsx)(p,{ref:t,...u,className:r()(d,s,a&&"".concat(s,"-").concat(a),n&&"has-validation")})})}));u.displayName="InputGroup";const x=Object.assign(u,{Text:p,Radio:e=>(0,l.jsx)(p,{children:(0,l.jsx)(d.Z,{type:"radio",...e})}),Checkbox:e=>(0,l.jsx)(p,{children:(0,l.jsx)(d.Z,{type:"checkbox",...e})})})},1991:(e,t,s)=>{s.d(t,{Z:()=>r});const a=s(2791).createContext(null);a.displayName="InputGroupContext";const r=a}}]);
//# sourceMappingURL=144.7cdd7a10.chunk.js.map